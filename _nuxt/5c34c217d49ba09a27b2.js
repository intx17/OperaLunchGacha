(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{449:function(t,e,n){var content=n(461);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(32).default)("c9df7fd0",content,!0,{sourceMap:!1})},451:function(t,e,n){var map={"./af":320,"./af.js":320,"./ar":321,"./ar-dz":322,"./ar-dz.js":322,"./ar-kw":323,"./ar-kw.js":323,"./ar-ly":324,"./ar-ly.js":324,"./ar-ma":325,"./ar-ma.js":325,"./ar-sa":326,"./ar-sa.js":326,"./ar-tn":327,"./ar-tn.js":327,"./ar.js":321,"./az":328,"./az.js":328,"./be":329,"./be.js":329,"./bg":330,"./bg.js":330,"./bm":331,"./bm.js":331,"./bn":332,"./bn.js":332,"./bo":333,"./bo.js":333,"./br":334,"./br.js":334,"./bs":335,"./bs.js":335,"./ca":336,"./ca.js":336,"./cs":337,"./cs.js":337,"./cv":338,"./cv.js":338,"./cy":339,"./cy.js":339,"./da":340,"./da.js":340,"./de":341,"./de-at":342,"./de-at.js":342,"./de-ch":343,"./de-ch.js":343,"./de.js":341,"./dv":344,"./dv.js":344,"./el":345,"./el.js":345,"./en-SG":346,"./en-SG.js":346,"./en-au":347,"./en-au.js":347,"./en-ca":348,"./en-ca.js":348,"./en-gb":349,"./en-gb.js":349,"./en-ie":350,"./en-ie.js":350,"./en-il":351,"./en-il.js":351,"./en-nz":352,"./en-nz.js":352,"./eo":353,"./eo.js":353,"./es":354,"./es-do":355,"./es-do.js":355,"./es-us":356,"./es-us.js":356,"./es.js":354,"./et":357,"./et.js":357,"./eu":358,"./eu.js":358,"./fa":359,"./fa.js":359,"./fi":360,"./fi.js":360,"./fo":361,"./fo.js":361,"./fr":362,"./fr-ca":363,"./fr-ca.js":363,"./fr-ch":364,"./fr-ch.js":364,"./fr.js":362,"./fy":365,"./fy.js":365,"./ga":366,"./ga.js":366,"./gd":367,"./gd.js":367,"./gl":368,"./gl.js":368,"./gom-latn":369,"./gom-latn.js":369,"./gu":370,"./gu.js":370,"./he":371,"./he.js":371,"./hi":372,"./hi.js":372,"./hr":373,"./hr.js":373,"./hu":374,"./hu.js":374,"./hy-am":375,"./hy-am.js":375,"./id":376,"./id.js":376,"./is":377,"./is.js":377,"./it":378,"./it-ch":379,"./it-ch.js":379,"./it.js":378,"./ja":380,"./ja.js":380,"./jv":381,"./jv.js":381,"./ka":382,"./ka.js":382,"./kk":383,"./kk.js":383,"./km":384,"./km.js":384,"./kn":385,"./kn.js":385,"./ko":386,"./ko.js":386,"./ku":387,"./ku.js":387,"./ky":388,"./ky.js":388,"./lb":389,"./lb.js":389,"./lo":390,"./lo.js":390,"./lt":391,"./lt.js":391,"./lv":392,"./lv.js":392,"./me":393,"./me.js":393,"./mi":394,"./mi.js":394,"./mk":395,"./mk.js":395,"./ml":396,"./ml.js":396,"./mn":397,"./mn.js":397,"./mr":398,"./mr.js":398,"./ms":399,"./ms-my":400,"./ms-my.js":400,"./ms.js":399,"./mt":401,"./mt.js":401,"./my":402,"./my.js":402,"./nb":403,"./nb.js":403,"./ne":404,"./ne.js":404,"./nl":405,"./nl-be":406,"./nl-be.js":406,"./nl.js":405,"./nn":407,"./nn.js":407,"./pa-in":408,"./pa-in.js":408,"./pl":409,"./pl.js":409,"./pt":410,"./pt-br":411,"./pt-br.js":411,"./pt.js":410,"./ro":412,"./ro.js":412,"./ru":413,"./ru.js":413,"./sd":414,"./sd.js":414,"./se":415,"./se.js":415,"./si":416,"./si.js":416,"./sk":417,"./sk.js":417,"./sl":418,"./sl.js":418,"./sq":419,"./sq.js":419,"./sr":420,"./sr-cyrl":421,"./sr-cyrl.js":421,"./sr.js":420,"./ss":422,"./ss.js":422,"./sv":423,"./sv.js":423,"./sw":424,"./sw.js":424,"./ta":425,"./ta.js":425,"./te":426,"./te.js":426,"./tet":427,"./tet.js":427,"./tg":428,"./tg.js":428,"./th":429,"./th.js":429,"./tl-ph":430,"./tl-ph.js":430,"./tlh":431,"./tlh.js":431,"./tr":432,"./tr.js":432,"./tzl":433,"./tzl.js":433,"./tzm":434,"./tzm-latn":435,"./tzm-latn.js":435,"./tzm.js":434,"./ug-cn":436,"./ug-cn.js":436,"./uk":437,"./uk.js":437,"./ur":438,"./ur.js":438,"./uz":439,"./uz-latn":440,"./uz-latn.js":440,"./uz.js":439,"./vi":441,"./vi.js":441,"./x-pseudo":442,"./x-pseudo.js":442,"./yo":443,"./yo.js":443,"./zh-cn":444,"./zh-cn.js":444,"./zh-hk":445,"./zh-hk.js":445,"./zh-tw":446,"./zh-tw.js":446};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}r.keys=function(){return Object.keys(map)},r.resolve=o,t.exports=r,r.id=451},460:function(t,e,n){"use strict";var r=n(449);n.n(r).a},461:function(t,e,n){(t.exports=n(31)(!1)).push([t.i,".container[data-v-4008c047]{margin:0 auto;min-height:100vh;display:flex;justify-content:center;text-align:center;background:#db7093}section[data-v-4008c047]{width:100%;height:auto}#result-area[data-v-4008c047]{margin-top:20px}.title[data-v-4008c047]{font-family:Quicksand,Source Sans Pro,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;display:block;font-weight:300;font-size:100px;color:#35495e;letter-spacing:1px}.subtitle[data-v-4008c047]{font-weight:300;font-size:42px;color:#526488;word-spacing:5px;padding-bottom:15px}.links[data-v-4008c047]{padding-top:15px}.columns[data-v-4008c047]{width:100%;margin:0 auto;text-align:center}p.tag[data-v-4008c047]{width:80%;height:3rem;background:#fff}div.button[data-v-4008c047]{width:80%;height:auto}div.modal-card[data-v-4008c047]{max-width:80%}p.modal-card-title[data-v-4008c047]{font-size:1.2rem}div.tabs[data-v-4008c047]:not(:last-child){margin-bottom:0}",""])},464:function(t,e,n){"use strict";n.r(e);n(83),n(84),n(52),n(33),n(53),n(116),n(117),n(85);var r=n(10),o=n(86),c=n(319),l=n.n(c),d={data:function(){return{reels:[],timers:[],restaurants:[],running:!1,decided:!1,resultRestaurantName:""}},methods:{closeModal:function(){this.resultRestaurantName=""},getRestaurantsByCurrentUrl:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(e){var path;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(path=this.$route.path,!("/"==path||path.includes("in"))){t.next=6;break}return t.next=5,e.filter(function(t){return!t.isOut});case 5:return t.abrupt("return",t.sent);case 6:return t.abrupt("return",e);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),initialize:function(){this.running=!1,this.decided=!1,this.resultRestaurantName="";for(var t=[],i=0;i<3;i++){var e=Math.floor(Math.random()*this.restaurants.length);t[i]={reelIdx:i,currentRestaurantIdx:e,txt:this.restaurants[e].name}}this.reels=t,this.timers=[]},makeReelHit:function(t,e){var n=this,r=e.reelIdx;return new Promise(function(o){setTimeout(function(){t.txt===e.txt?(clearTimeout(n.timers[r]),o()):o(n.makeReelHit(t,e))},100)})},replay:function(){var t=this;this.restaurants=this.restaurants.filter(function(e){return e.name!==t.resultRestaurantName}),this.initialize(),this.closeModal()},restaurantIsDecided:function(){this.decided=!0,this.saveLog(this.resultRestaurantName),this.closeModal()},rotate:function(t){var e=this,n=t.reelIdx,r=t.currentRestaurantIdx,o=r+1;o>this.restaurants.length-1&&(o=0),t.currentRestaurantIdx=o,t.txt=this.restaurants[r].name,this.timers[n]=setTimeout(function(){e.rotate(t)},100)},saveLog:function(t){t&&(console.log("start save"),console.log(l()().format("YYYY/MM/DD")),o.a.collection("logs").add({name:t,date:l()().format("YYYY/MM/DD")}).then(function(t){console.log("Document written with ID: ",t.id)}).catch(function(t){console.error("Error adding document: ",t)}))},sleep:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t){setTimeout(function(){t()},e)}));case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),start:function(){if(!(this.running||this.restaurants.length<=1||this.decided)){this.running=!0;var t=!0,e=!1,n=void 0;try{for(var r,o=this.reels[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var c=r.value;this.rotate(c)}}catch(t){e=!0,n=t}finally{try{t||null==o.return||o.return()}finally{if(e)throw n}}}},stop:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){var e,i,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.running){t.next=2;break}return t.abrupt("return");case 2:e=null,console.log(this.timers),i=0;case 5:if(!(i<this.timers.length)){t.next=19;break}if(n=this.reels[i],0!==i){t.next=14;break}return e=n,t.next=11,this.sleep(1e3);case 11:clearTimeout(this.timers[i]),t.next=16;break;case 14:return t.next=16,this.makeReelHit(e,n);case 16:i++,t.next=5;break;case 19:this.resultRestaurantName=e.txt,this.running=!1;case 21:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},created:function(){var t=this,e=[];console.log("first"),o.a.collection("restaurants").get().then(function(t){t.forEach(function(t){var data=t.data();data.name&&e.push(data)})}).then(Object(r.a)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.getRestaurantsByCurrentUrl(e);case 2:t.restaurants=n.sent,t.initialize();case 4:case"end":return n.stop()}},n)})))}},j=(n(460),n(26)),component=Object(j.a)(d,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("section",{staticClass:"section"},[t._m(0),t._v(" "),n("div",{staticClass:"columns is-centered"},t._l(this.reels,function(e){return n("div",{key:e.reelIdx,staticClass:"column is-one-third"},[n("p",{staticClass:"tag is-rounded"},[n("span",{staticClass:"is-size-5"},[t._v("\n            "+t._s(e.txt)+"\n          ")])])])}),0),t._v(" "),n("div",{staticClass:"columns is-centered is-mobile"},[n("div",{staticClass:"column"},[n("div",{staticClass:"button is-primary",on:{click:t.start}},[t._v("START")])]),t._v(" "),n("div",{staticClass:"column"},[n("div",{staticClass:"button is-danger",on:{click:t.stop}},[t._v("STOP")])])]),t._v(" "),n("div",{staticClass:"modal",class:{"is-active":""!==t.resultRestaurantName}},[n("div",{staticClass:"modal-background"}),t._v(" "),n("div",{staticClass:"modal-card"},[n("header",{staticClass:"modal-card-head"},[t._m(1),t._v(" "),n("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:t.closeModal}})]),t._v(" "),n("section",{staticClass:"modal-card-body"},[n("p",[n("span",{staticClass:"is-size-5 has-text-weight-semibold"},[t._v("\n              "+t._s(t.resultRestaurantName)+"\n            ")])])]),t._v(" "),n("footer",{staticClass:"modal-card-foot"},[n("button",{staticClass:"button is-success",on:{click:t.restaurantIsDecided}},[t._v("決定")]),t._v(" "),t.restaurants.length>1?n("button",{staticClass:"button",on:{click:t.replay}},[t._v("他の店にする")]):t._e()])])])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("p",[e("span",{staticClass:"is-size-3 has-text-weight-bold has-text-dark"},[this._v("\n            昼飯スロット\n          ")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"modal-card-title"},[e("span",{staticClass:"is-size-6"},[this._v("\n              結果\n            ")])])}],!1,null,"4008c047",null);e.default=component.exports}}]);